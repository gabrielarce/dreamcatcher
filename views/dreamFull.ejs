<%- include("partials/header.ejs") %>
    <div class="container fulldream">
        <a href="/api/dreams" class="back-button"><i class="fa-solid fa-arrow-left"></i> back </a>
        <h5>
            <%= dream.date %>
        </h5>
        <img src="<%= dream.image %>" alt="">
        <h3>
            <%= dream.title %>
        </h3>
        <% if(dream.lucid){ %>
            <span>Lucid Dream</span>
            <% } %>
                <div>
                    <span>Mood : <%= dream.rating %></span>
                    <p>
                        <%= dream.story %>
                    </p>
                    <!-- Edit and Delete Buttons with Modal-Confirmation -->
                    <div class="container">
                        <button class="btn red darken-3 right"><a class="modal-trigger delete-edit" href="#modal1"> <i class="material-icons">delete
                        </i></a></button>
                        <button class="btn orange lighten-1 right"><a class="delete-edit" href="/api/dreams/edit/<%= dream._id %>"><i class="material-icons">edit
                        </i></a></button>

                        <!-- Modal Structure -->
                        <div id="modal1" class="modal modal-fixed-footer">
                            <div class="modal-content">
                                <h4>Are you sure you want to delete this dream?</h4>
                                <p>Once you delete a dream, you can't get it back.</p>
                            </div>
                            <div class="modal-footer">
                                <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
                                <form class="right" method="POST" action="/api/dreams/delete/<%= dream._id %>?_method=DELETE">
                                    <button class="modal-close waves-effect waves-green btn-flat">Delete</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
    </div>
    <%- include("partials/footer.ejs") %>